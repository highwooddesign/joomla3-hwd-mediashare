/*!
* MediaElement.js
* HTML5 <video> and <audio> shim and player
* http://mediaelementjs.com/
*
* Creates a JavaScript object that mimics HTML5 MediaElement API
* for browsers that don't understand HTML5 or can't play the provided codec
* Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3
*
* Copyright 2010-2014, John Dyer (http://j.hn)
* License: MIT
*
*/
function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(e){mejs.YouTubeApi.flashReady(e)}var mejs=mejs||{};mejs.version="2.15.1";mejs.meIndex=0;mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube","application/x-mpegURL"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube","audio/youtube","audio/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo","video/x-vimeo"]}]};mejs.Utility={encodeUrl:function(e){return encodeURIComponent(e)},escapeHTML:function(e){return e.toString().split("&").join("&").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(e){var t=document.createElement("div");t.innerHTML='<a href="'+this.escapeHTML(e)+'">x</a>';return t.firstChild.href},getScriptPath:function(e){var t=0,n,r="",i="",s,o,u,a,f,l=document.getElementsByTagName("script"),c=l.length,h=e.length;for(;t<c;t++){u=l[t].src;s=u.lastIndexOf("/");if(s>-1){f=u.substring(s+1);a=u.substring(0,s+1)}else{f=u;a=""}for(n=0;n<h;n++){i=e[n];o=f.indexOf(i);if(o>-1){r=a;break}}if(r!==""){break}}return r},secondsToTimeCode:function(e,t,n,r){if(typeof n=="undefined"){n=false}else if(typeof r=="undefined"){r=25}var i=Math.floor(e/3600)%24,s=Math.floor(e/60)%60,o=Math.floor(e%60),u=Math.floor((e%1*r).toFixed(3)),a=(t||i>0?(i<10?"0"+i:i)+":":"")+(s<10?"0"+s:s)+":"+(o<10?"0"+o:o)+(n?":"+(u<10?"0"+u:u):"");return a},timeCodeToSeconds:function(e,t,n,r){if(typeof n=="undefined"){n=false}else if(typeof r=="undefined"){r=25}var i=e.split(":"),s=parseInt(i[0],10),o=parseInt(i[1],10),u=parseInt(i[2],10),a=0,f=0;if(n){a=parseInt(i[3])/r}f=s*3600+o*60+u+a;return f},convertSMPTEtoSeconds:function(e){if(typeof e!="string")return false;e=e.replace(",",".");var t=0,n=e.indexOf(".")!=-1?e.split(".")[1].length:0,r=1;e=e.split(":").reverse();for(var i=0;i<e.length;i++){r=1;if(i>0){r=Math.pow(60,i)}t+=Number(e[i])*r}return Number(t.toFixed(n))},removeSwf:function(e){var t=document.getElementById(e);if(t&&/object|embed/i.test(t.nodeName)){if(mejs.MediaFeatures.isIE){t.style.display="none";(function(){if(t.readyState==4){mejs.Utility.removeObjectInIE(e)}else{setTimeout(arguments.callee,10)}})()}else{t.parentNode.removeChild(t)}}},removeObjectInIE:function(e){var t=document.getElementById(e);if(t){for(var n in t){if(typeof t[n]=="function"){t[n]=null}}t.parentNode.removeChild(t)}}};mejs.PluginDetector={hasPluginVersion:function(e,t){var n=this.plugins[e];t[1]=t[1]||0;t[2]=t[2]||0;return n[0]>t[0]||n[0]==t[0]&&n[1]>t[1]||n[0]==t[0]&&n[1]==t[1]&&n[2]>=t[2]?true:false},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(e,t,n,r,i){this.plugins[e]=this.detectPlugin(t,n,r,i)},detectPlugin:function(e,t,n,r){var i=[0,0,0],s,o,u;if(typeof this.nav.plugins!="undefined"&&typeof this.nav.plugins[e]=="object"){s=this.nav.plugins[e].description;if(s&&!(typeof this.nav.mimeTypes!="undefined"&&this.nav.mimeTypes[t]&&!this.nav.mimeTypes[t].enabledPlugin)){i=s.replace(e,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(o=0;o<i.length;o++){i[o]=parseInt(i[o].match(/\d+/),10)}}}else if(typeof window.ActiveXObject!="undefined"){try{u=new ActiveXObject(n);if(u){i=r(u)}}catch(a){}}return i}};mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(e){var t=[],n=e.GetVariable("$version");if(n){n=n.split(" ")[1].split(",");t=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)]}return t});mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(e){var t=[0,0,0,0],n=function(e,t,n,r){while(e.isVersionSupported(t[0]+"."+t[1]+"."+t[2]+"."+t[3])){t[n]+=r}t[n]-=r};n(e,t,0,1);n(e,t,1,1);n(e,t,2,1e4);n(e,t,2,1e3);n(e,t,2,100);n(e,t,2,10);n(e,t,2,1);n(e,t,3,1);return t});mejs.MediaFeatures={init:function(){var e=this,t=document,n=mejs.PluginDetector.nav,r=mejs.PluginDetector.ua.toLowerCase(),i,s,o=["source","track","audio","video"];e.isiPad=r.match(/ipad/i)!==null;e.isiPhone=r.match(/iphone/i)!==null;e.isiOS=e.isiPhone||e.isiPad;e.isAndroid=r.match(/android/i)!==null;e.isBustedAndroid=r.match(/android 2\.[12]/)!==null;e.isBustedNativeHTTPS=location.protocol==="https:"&&(r.match(/android [12]\./)!==null||r.match(/macintosh.* version.* safari/)!==null);e.isIE=n.appName.toLowerCase().indexOf("microsoft")!=-1||n.appName.toLowerCase().match(/trident/gi)!==null;e.isChrome=r.match(/chrome/gi)!==null;e.isChromium=r.match(/chromium/gi)!==null;e.isFirefox=r.match(/firefox/gi)!==null;e.isWebkit=r.match(/webkit/gi)!==null;e.isGecko=r.match(/gecko/gi)!==null&&!e.isWebkit&&!e.isIE;e.isOpera=r.match(/opera/gi)!==null;e.hasTouch="ontouchstart"in window;e.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;for(i=0;i<o.length;i++){s=document.createElement(o[i])}e.supportsMediaTag=typeof s.canPlayType!=="undefined"||e.isBustedAndroid;try{s.canPlayType("video/mp4")}catch(u){e.supportsMediaTag=false}e.hasSemiNativeFullScreen=typeof s.webkitEnterFullscreen!=="undefined";e.hasNativeFullscreen=typeof s.requestFullscreen!=="undefined";e.hasWebkitNativeFullScreen=typeof s.webkitRequestFullScreen!=="undefined";e.hasMozNativeFullScreen=typeof s.mozRequestFullScreen!=="undefined";e.hasMsNativeFullScreen=typeof s.msRequestFullscreen!=="undefined";e.hasTrueNativeFullScreen=e.hasWebkitNativeFullScreen||e.hasMozNativeFullScreen||e.hasMsNativeFullScreen;e.nativeFullScreenEnabled=e.hasTrueNativeFullScreen;if(e.hasMozNativeFullScreen){e.nativeFullScreenEnabled=document.mozFullScreenEnabled}else if(e.hasMsNativeFullScreen){e.nativeFullScreenEnabled=document.msFullscreenEnabled}if(e.isChrome){e.hasSemiNativeFullScreen=false}if(e.hasTrueNativeFullScreen){e.fullScreenEventName="";if(e.hasWebkitNativeFullScreen){e.fullScreenEventName="webkitfullscreenchange"}else if(e.hasMozNativeFullScreen){e.fullScreenEventName="mozfullscreenchange"}else if(e.hasMsNativeFullScreen){e.fullScreenEventName="MSFullscreenChange"}e.isFullScreen=function(){if(e.hasMozNativeFullScreen){return t.mozFullScreen}else if(e.hasWebkitNativeFullScreen){return t.webkitIsFullScreen}else if(e.hasMsNativeFullScreen){return t.msFullscreenElement!==null}};e.requestFullScreen=function(t){if(e.hasWebkitNativeFullScreen){t.webkitRequestFullScreen()}else if(e.hasMozNativeFullScreen){t.mozRequestFullScreen()}else if(e.hasMsNativeFullScreen){t.msRequestFullscreen()}};e.cancelFullScreen=function(){if(e.hasWebkitNativeFullScreen){document.webkitCancelFullScreen()}else if(e.hasMozNativeFullScreen){document.mozCancelFullScreen()}else if(e.hasMsNativeFullScreen){document.msExitFullscreen()}}}if(e.hasSemiNativeFullScreen&&r.match(/mac os x 10_5/i)){e.hasNativeFullScreen=false;e.hasSemiNativeFullScreen=false}}};mejs.MediaFeatures.init();mejs.HtmlMediaElement={pluginType:"native",isFullScreen:false,setCurrentTime:function(e){this.currentTime=e},setMuted:function(e){this.muted=e},setVolume:function(e){this.volume=e},stop:function(){this.pause()},setSrc:function(e){var t=this.getElementsByTagName("source");while(t.length>0){this.removeChild(t[0])}if(typeof e=="string"){this.src=e}else{var n,r;for(n=0;n<e.length;n++){r=e[n];if(this.canPlayType(r.type)){this.src=r.src;break}}}},setVideoSize:function(e,t){this.width=e;this.height=t}};mejs.PluginMediaElement=function(e,t,n){this.id=e;this.pluginType=t;this.src=n;this.events={};this.attributes={}};mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:false,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:true,ended:false,seeking:false,duration:0,error:null,tagName:"",muted:false,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"||this.pluginType=="vimeo"){this.pluginApi.playVideo()}else{this.pluginApi.playMedia()}this.paused=false}},load:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"||this.pluginType=="vimeo"){}else{this.pluginApi.loadMedia()}this.paused=false}},pause:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"||this.pluginType=="vimeo"){this.pluginApi.pauseVideo()}else{this.pluginApi.pauseMedia()}this.paused=true}},stop:function(){if(this.pluginApi!=null){if(this.pluginType=="youtube"||this.pluginType=="vimeo"){this.pluginApi.stopVideo()}else{this.pluginApi.stopMedia()}this.paused=true}},canPlayType:function(e){var t,n,r,i=mejs.plugins[this.pluginType];for(t=0;t<i.length;t++){r=i[t];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,r.version)){for(n=0;n<r.types.length;n++){if(e==r.types[n]){return"probably"}}}}return""},positionFullscreenButton:function(e,t,n){if(this.pluginApi!=null&&this.pluginApi.positionFullscreenButton){this.pluginApi.positionFullscreenButton(Math.floor(e),Math.floor(t),n)}},hideFullscreenButton:function(){if(this.pluginApi!=null&&this.pluginApi.hideFullscreenButton){this.pluginApi.hideFullscreenButton()}},setSrc:function(e){if(typeof e=="string"){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(e));this.src=mejs.Utility.absolutizeUrl(e)}else{var t,n;for(t=0;t<e.length;t++){n=e[t];if(this.canPlayType(n.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(n.src));this.src=mejs.Utility.absolutizeUrl(e);break}}}},setCurrentTime:function(e){if(this.pluginApi!=null){if(this.pluginType=="youtube"||this.pluginType=="vimeo"){this.pluginApi.seekTo(e)}else{this.pluginApi.setCurrentTime(e)}this.currentTime=e}},setVolume:function(e){if(this.pluginApi!=null){if(this.pluginType=="youtube"){this.pluginApi.setVolume(e*100)}else{this.pluginApi.setVolume(e)}this.volume=e}},setMuted:function(e){if(this.pluginApi!=null){if(this.pluginType=="youtube"){if(e){this.pluginApi.mute()}else{this.pluginApi.unMute()}this.muted=e;this.dispatchEvent("volumechange")}else{this.pluginApi.setMuted(e)}this.muted=e}},setVideoSize:function(e,t){if(this.pluginElement&&this.pluginElement.style){this.pluginElement.style.width=e+"px";this.pluginElement.style.height=t+"px"}if(this.pluginApi!=null&&this.pluginApi.setVideoSize){this.pluginApi.setVideoSize(e,t)}},setFullscreen:function(e){if(this.pluginApi!=null&&this.pluginApi.setFullscreen){this.pluginApi.setFullscreen(e)}},enterFullScreen:function(){if(this.pluginApi!=null&&this.pluginApi.setFullscreen){this.setFullscreen(true)}},exitFullScreen:function(){if(this.pluginApi!=null&&this.pluginApi.setFullscreen){this.setFullscreen(false)}},addEventListener:function(e,t,n){this.events[e]=this.events[e]||[];this.events[e].push(t)},removeEventListener:function(e,t){if(!e){this.events={};return true}var n=this.events[e];if(!n)return true;if(!t){this.events[e]=[];return true}for(var r=0;r<n.length;r++){if(n[r]===t){this.events[e].splice(r,1);return true}}return false},dispatchEvent:function(e){var t,n,r=this.events[e];if(r){n=Array.prototype.slice.call(arguments,1);for(t=0;t<r.length;t++){r[t].apply(null,n)}}},hasAttribute:function(e){return e in this.attributes},removeAttribute:function(e){delete this.attributes[e]},getAttribute:function(e){if(this.hasAttribute(e)){return this.attributes[e]}return""},setAttribute:function(e,t){this.attributes[e]=t},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id);mejs.MediaPluginBridge.unregisterPluginElement(this.pluginElement.id)}};mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(e,t,n){this.pluginMediaElements[e]=t;this.htmlMediaElements[e]=n},unregisterPluginElement:function(e){delete this.pluginMediaElements[e];delete this.htmlMediaElements[e]},initPlugin:function(e){var t=this.pluginMediaElements[e],n=this.htmlMediaElements[e];if(t){switch(t.pluginType){case"flash":t.pluginElement=t.pluginApi=document.getElementById(e);break;case"silverlight":t.pluginElement=document.getElementById(t.id);t.pluginApi=t.pluginElement.Content.MediaElementJS;break}if(t.pluginApi!=null&&t.success){t.success(t,n)}}},fireEvent:function(e,t,n){var r,i,s,o=this.pluginMediaElements[e];if(!o){return}r={type:t,target:o};for(i in n){o[i]=n[i];r[i]=n[i]}s=n.bufferedTime||0;r.target.buffered=r.buffered={start:function(e){return 0},end:function(e){return s},length:1};o.dispatchEvent(r.type,r)}};mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:false,httpsBasicAuthSite:false,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",enablePluginSmoothing:false,enablePseudoStreaming:false,pseudoStreamingStartQueryParam:"start",silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,success:function(){},error:function(){}};mejs.MediaElement=function(e,t){return mejs.HtmlMediaElementShim.create(e,t)};mejs.HtmlMediaElementShim={create:function(e,t){var n=mejs.MediaElementDefaults,r=typeof e=="string"?document.getElementById(e):e,i=r.tagName.toLowerCase(),s=i==="audio"||i==="video",o=s?r.getAttribute("src"):r.getAttribute("href"),u=r.getAttribute("poster"),a=r.getAttribute("autoplay"),f=r.getAttribute("preload"),l=r.getAttribute("controls"),c,h;for(h in t){n[h]=t[h]}o=typeof o=="undefined"||o===null||o==""?null:o;u=typeof u=="undefined"||u===null?"":u;f=typeof f=="undefined"||f===null||f==="false"?"none":f;a=!(typeof a=="undefined"||a===null||a==="false");l=!(typeof l=="undefined"||l===null||l==="false");c=this.determinePlayback(r,n,mejs.MediaFeatures.supportsMediaTag,s,o);c.url=c.url!==null?mejs.Utility.absolutizeUrl(c.url):"";if(c.method=="native"){if(mejs.MediaFeatures.isBustedAndroid){r.src=c.url;r.addEventListener("click",function(){r.play()},false)}return this.updateNative(c,n,a,f)}else if(c.method!==""){return this.createPlugin(c,n,u,a,f,l)}else{this.createErrorMessage(c,n,u);return this}},determinePlayback:function(e,t,n,r,i){var s=[],o,u,a,f,l,c,h={method:"",url:"",htmlMediaElement:e,isVideo:e.tagName.toLowerCase()!="audio"},p,d,v,m,g;if(typeof t.type!="undefined"&&t.type!==""){if(typeof t.type=="string"){s.push({type:t.type,url:i})}else{for(o=0;o<t.type.length;o++){s.push({type:t.type[o],url:i})}}}else if(i!==null){c=this.formatType(i,e.getAttribute("type"));s.push({type:c,url:i})}else{for(o=0;o<e.childNodes.length;o++){l=e.childNodes[o];if(l.nodeType==1&&l.tagName.toLowerCase()=="source"){i=l.getAttribute("src");c=this.formatType(i,l.getAttribute("type"));g=l.getAttribute("media");if(!g||!window.matchMedia||window.matchMedia&&window.matchMedia(g).matches){s.push({type:c,url:i})}}}}if(!r&&s.length>0&&s[0].url!==null&&this.getTypeFromFile(s[0].url).indexOf("audio")>-1){h.isVideo=false}if(mejs.MediaFeatures.isBustedAndroid){e.canPlayType=function(e){return e.match(/video\/(mp4|m4v)/gi)!==null?"maybe":""}}if(mejs.MediaFeatures.isChromium){e.canPlayType=function(e){return e.match(/video\/(webm|ogv|ogg)/gi)!==null?"maybe":""}}if(n&&(t.mode==="auto"||t.mode==="auto_plugin"||t.mode==="native")&&!(mejs.MediaFeatures.isBustedNativeHTTPS&&t.httpsBasicAuthSite===true)){if(!r){m=document.createElement(h.isVideo?"video":"audio");e.parentNode.insertBefore(m,e);e.style.display="none";h.htmlMediaElement=e=m}for(o=0;o<s.length;o++){if(s[o].type=="video/m3u8"||e.canPlayType(s[o].type).replace(/no/,"")!==""||e.canPlayType(s[o].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""||e.canPlayType(s[o].type.replace(/m4a/,"mp4")).replace(/no/,"")!==""){h.method="native";h.url=s[o].url;break}}if(h.method==="native"){if(h.url!==null){e.src=h.url}if(t.mode!=="auto_plugin"){return h}}}if(t.mode==="auto"||t.mode==="auto_plugin"||t.mode==="shim"){for(o=0;o<s.length;o++){c=s[o].type;for(u=0;u<t.plugins.length;u++){p=t.plugins[u];d=mejs.plugins[p];for(a=0;a<d.length;a++){v=d[a];if(v.version==null||mejs.PluginDetector.hasPluginVersion(p,v.version)){for(f=0;f<v.types.length;f++){if(c==v.types[f]){h.method=p;h.url=s[o].url;return h}}}}}}}if(t.mode==="auto_plugin"&&h.method==="native"){return h}if(h.method===""&&s.length>0){h.url=s[0].url}return h},formatType:function(e,t){var n;if(e&&!t){return this.getTypeFromFile(e)}else{if(t&&~t.indexOf(";")){return t.substr(0,t.indexOf(";"))}else{return t}}},getTypeFromFile:function(e){e=e.split("?")[0];var t=e.substring(e.lastIndexOf(".")+1).toLowerCase();return(/(mp4|m4v|ogg|ogv|m3u8|webm|webmv|flv|wmv|mpeg|mov)/gi.test(t)?"video":"audio")+"/"+this.getTypeFromExtension(t)},getTypeFromExtension:function(e){switch(e){case"mp4":case"m4v":case"m4a":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return e}},createErrorMessage:function(e,t,n){var r=e.htmlMediaElement,i=document.createElement("div");i.className="me-cannotplay";try{i.style.width=r.width+"px";i.style.height=r.height+"px"}catch(s){}if(t.customError){i.innerHTML=t.customError}else{i.innerHTML=n!==""?'<a href="'+e.url+'"><img src="'+n+'" width="100%" height="100%" /></a>':'<a href="'+e.url+'"><span>'+mejs.i18n.t("Download File")+"</span></a>"}r.parentNode.insertBefore(i,r);r.style.display="none";t.error(r)},createPlugin:function(e,t,n,r,i,s){var o=e.htmlMediaElement,u=1,a=1,f="me_"+e.method+"_"+mejs.meIndex++,l=new mejs.PluginMediaElement(f,e.method,e.url),c=document.createElement("div"),h,p,d;l.tagName=o.tagName;for(var v=0;v<o.attributes.length;v++){var m=o.attributes[v];if(m.specified==true){l.setAttribute(m.name,m.value)}}p=o.parentNode;while(p!==null&&p.tagName.toLowerCase()!=="body"&&p.parentNode!=null){if(p.parentNode.tagName.toLowerCase()==="p"){p.parentNode.parentNode.insertBefore(p,p.parentNode);break}p=p.parentNode}if(e.isVideo){u=t.pluginWidth>0?t.pluginWidth:t.videoWidth>0?t.videoWidth:o.getAttribute("width")!==null?o.getAttribute("width"):t.defaultVideoWidth;a=t.pluginHeight>0?t.pluginHeight:t.videoHeight>0?t.videoHeight:o.getAttribute("height")!==null?o.getAttribute("height"):t.defaultVideoHeight;u=mejs.Utility.encodeUrl(u);a=mejs.Utility.encodeUrl(a)}else{if(t.enablePluginDebug){u=320;a=240}}l.success=t.success;mejs.MediaPluginBridge.registerPluginElement(f,l,o);c.className="me-plugin";c.id=f+"_container";if(e.isVideo){o.parentNode.insertBefore(c,o)}else{document.body.insertBefore(c,document.body.childNodes[0])}d=["id="+f,"isvideo="+(e.isVideo?"true":"false"),"autoplay="+(r?"true":"false"),"preload="+i,"width="+u,"startvolume="+t.startVolume,"timerrate="+t.timerRate,"flashstreamer="+t.flashStreamer,"height="+a,"pseudostreamstart="+t.pseudoStreamingStartQueryParam];if(e.url!==null){if(e.method=="flash"){d.push("file="+mejs.Utility.encodeUrl(e.url))}else{d.push("file="+e.url)}}if(t.enablePluginDebug){d.push("debug=true")}if(t.enablePluginSmoothing){d.push("smoothing=true")}if(t.enablePseudoStreaming){d.push("pseudostreaming=true")}if(s){d.push("controls=true")}if(t.pluginVars){d=d.concat(t.pluginVars)}switch(e.method){case"silverlight":c.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+f+'" name="'+f+'" width="'+u+'" height="'+a+'" class="mejs-shim">'+'<param name="initParams" value="'+d.join(",")+'" />'+'<param name="windowless" value="true" />'+'<param name="background" value="black" />'+'<param name="minRuntimeVersion" value="3.0.0.0" />'+'<param name="autoUpgrade" value="true" />'+'<param name="source" value="'+t.pluginPath+t.silverlightName+'" />'+"</object>";break;case"flash":if(mejs.MediaFeatures.isIE){h=document.createElement("div");c.appendChild(h);h.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" '+'id="'+f+'" width="'+u+'" height="'+a+'" class="mejs-shim">'+'<param name="movie" value="'+t.pluginPath+t.flashName+"?x="+new Date+'" />'+'<param name="flashvars" value="'+d.join("&")+'" />'+'<param name="quality" value="high" />'+'<param name="bgcolor" value="#000000" />'+'<param name="wmode" value="transparent" />'+'<param name="allowScriptAccess" value="always" />'+'<param name="allowFullScreen" value="true" />'+'<param name="scale" value="default" />'+"</object>"}else{c.innerHTML='<embed id="'+f+'" name="'+f+'" '+'play="true" '+'loop="false" '+'quality="high" '+'bgcolor="#000000" '+'wmode="transparent" '+'allowScriptAccess="always" '+'allowFullScreen="true" '+'type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" '+'src="'+t.pluginPath+t.flashName+'" '+'flashvars="'+d.join("&")+'" '+'width="'+u+'" '+'height="'+a+'" '+'scale="default"'+'class="mejs-shim"></embed>'}break;case"youtube":var g;if(e.url.lastIndexOf("youtu.be")!=-1){g=e.url.substr(e.url.lastIndexOf("/")+1);if(g.indexOf("?")!=-1){g=g.substr(0,g.indexOf("?"))}}else{g=e.url.substr(e.url.lastIndexOf("=")+1)}youtubeSettings={container:c,containerId:c.id,pluginMediaElement:l,pluginId:f,videoId:g,height:a,width:u};if(mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])){mejs.YouTubeApi.createFlash(youtubeSettings)}else{mejs.YouTubeApi.enqueueIframe(youtubeSettings)}break;case"vimeo":var y=f+"_player";l.vimeoid=e.url.substr(e.url.lastIndexOf("/")+1);c.innerHTML='<iframe src="//player.vimeo.com/video/'+l.vimeoid+"?api=1&portrait=0&byline=0&title=0&player_id="+y+'" width="'+u+'" height="'+a+'" frameborder="0" class="mejs-shim" id="'+y+'"></iframe>';if(typeof $f=="function"){var b=$f(c.childNodes[0]);b.addEvent("ready",function(){function e(e,t,n,r){var i={type:n,target:t};if(n=="timeupdate"){t.currentTime=i.currentTime=r.seconds;t.duration=i.duration=r.duration}t.dispatchEvent(i.type,i)}$.extend(b,{playVideo:function(){b.api("play")},stopVideo:function(){b.api("unload")},pauseVideo:function(){b.api("pause")},seekTo:function(e){b.api("seekTo",e)},setVolume:function(e){b.api("setVolume",e)},setMuted:function(e){if(e){b.lastVolume=b.api("getVolume");b.api("setVolume",0)}else{b.api("setVolume",b.lastVolume);delete b.lastVolume}}});b.addEvent("play",function(){e(b,l,"play");e(b,l,"playing")});b.addEvent("pause",function(){e(b,l,"pause")});b.addEvent("finish",function(){e(b,l,"ended")});b.addEvent("playProgress",function(t){e(b,l,"timeupdate",t)});l.pluginElement=c;l.pluginApi=b;mejs.MediaPluginBridge.initPlugin(f)})}else{console.warn("You need to include froogaloop for vimeo to work")}break}o.style.display="none";o.removeAttribute("autoplay");return l},updateNative:function(e,t,n,r){var i=e.htmlMediaElement,s;for(s in mejs.HtmlMediaElement){i[s]=mejs.HtmlMediaElement[s]}t.success(i,i);return i}};mejs.YouTubeApi={isIframeStarted:false,isIframeLoaded:false,loadIframeApi:function(){if(!this.isIframeStarted){var e=document.createElement("script");e.src="//www.youtube.com/player_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t);this.isIframeStarted=true}},iframeQueue:[],enqueueIframe:function(e){if(this.isLoaded){this.createIframe(e)}else{this.loadIframeApi();this.iframeQueue.push(e)}},createIframe:function(e){var t=e.pluginMediaElement,n=new YT.Player(e.containerId,{height:e.height,width:e.width,videoId:e.videoId,playerVars:{controls:0},events:{onReady:function(){e.pluginMediaElement.pluginApi=n;mejs.MediaPluginBridge.initPlugin(e.pluginId);setInterval(function(){mejs.YouTubeApi.createEvent(n,t,"timeupdate")},250)},onStateChange:function(e){mejs.YouTubeApi.handleStateChange(e.data,n,t)}}})},createEvent:function(e,t,n){var r={type:n,target:t};if(e&&e.getDuration){t.currentTime=r.currentTime=e.getCurrentTime();t.duration=r.duration=e.getDuration();r.paused=t.paused;r.ended=t.ended;r.muted=e.isMuted();r.volume=e.getVolume()/100;r.bytesTotal=e.getVideoBytesTotal();r.bufferedBytes=e.getVideoBytesLoaded();var i=r.bufferedBytes/r.bytesTotal*r.duration;r.target.buffered=r.buffered={start:function(e){return 0},end:function(e){return i},length:1}}t.dispatchEvent(r.type,r)},iFrameReady:function(){this.isLoaded=true;this.isIframeLoaded=true;while(this.iframeQueue.length>0){var e=this.iframeQueue.pop();this.createIframe(e)}},flashPlayers:{},createFlash:function(e){this.flashPlayers[e.pluginId]=e;var t,n="//www.youtube.com/apiplayer?enablejsapi=1&playerapiid="+e.pluginId+"&version=3&autoplay=0&controls=0&modestbranding=1&loop=0";if(mejs.MediaFeatures.isIE){t=document.createElement("div");e.container.appendChild(t);t.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" '+'id="'+e.pluginId+'" width="'+e.width+'" height="'+e.height+'" class="mejs-shim">'+'<param name="movie" value="'+n+'" />'+'<param name="wmode" value="transparent" />'+'<param name="allowScriptAccess" value="always" />'+'<param name="allowFullScreen" value="true" />'+"</object>"}else{e.container.innerHTML='<object type="application/x-shockwave-flash" id="'+e.pluginId+'" data="'+n+'" '+'width="'+e.width+'" height="'+e.height+'" style="visibility: visible; " class="mejs-shim">'+'<param name="allowScriptAccess" value="always">'+'<param name="wmode" value="transparent">'+"</object>"}},flashReady:function(e){var t=this.flashPlayers[e],n=document.getElementById(e),r=t.pluginMediaElement;r.pluginApi=r.pluginElement=n;mejs.MediaPluginBridge.initPlugin(e);n.cueVideoById(t.videoId);var i=t.containerId+"_callback";window[i]=function(e){mejs.YouTubeApi.handleStateChange(e,n,r)};n.addEventListener("onStateChange",i);setInterval(function(){mejs.YouTubeApi.createEvent(n,r,"timeupdate")},250);mejs.YouTubeApi.createEvent(n,r,"canplay")},handleStateChange:function(e,t,n){switch(e){case-1:n.paused=true;n.ended=true;mejs.YouTubeApi.createEvent(t,n,"loadedmetadata");break;case 0:n.paused=false;n.ended=true;mejs.YouTubeApi.createEvent(t,n,"ended");break;case 1:n.paused=false;n.ended=false;mejs.YouTubeApi.createEvent(t,n,"play");mejs.YouTubeApi.createEvent(t,n,"playing");break;case 2:n.paused=true;n.ended=false;mejs.YouTubeApi.createEvent(t,n,"pause");break;case 3:mejs.YouTubeApi.createEvent(t,n,"progress");break;case 5:break}}};window.mejs=mejs;window.MediaElement=mejs.MediaElement;(function(e,t,n){"use strict";var r={locale:{language:"",strings:{}},methods:{}};r.getLanguage=function(){var e=r.locale.language||window.navigator.userLanguage||window.navigator.language;return e.substr(0,2).toLowerCase()};if(typeof mejsL10n!="undefined"){r.locale.language=mejsL10n.language}r.methods.checkPlain=function(e){var t,n,r={"&":"&",'"':"&quot;","<":"&lt;",">":"&gt;"};e=String(e);for(t in r){if(r.hasOwnProperty(t)){n=new RegExp(t,"g");e=e.replace(n,r[t])}}return e};r.methods.t=function(e,t){if(r.locale.strings&&r.locale.strings[t.context]&&r.locale.strings[t.context][e]){e=r.locale.strings[t.context][e]}return r.methods.checkPlain(e)};r.t=function(e,t){if(typeof e==="string"&&e.length>0){var n=r.getLanguage();t=t||{context:n};return r.methods.t(e,t)}else{throw{name:"InvalidArgumentException",message:"First argument is either not a string or empty."}}};t.i18n=r})(document,mejs);(function(e,t){"use strict";if(typeof mejsL10n!="undefined"){e[mejsL10n.language]=mejsL10n.strings}})(mejs.i18n.locale.strings);(function(e,t){"use strict";if(typeof e.de==="undefined"){e.de={Fullscreen:"Vollbild","Go Fullscreen":"Vollbild an","Turn off Fullscreen":"Vollbild aus",Close:"SchlieÃŸen"}}})(mejs.i18n.locale.strings);(function(e,t){"use strict";if(typeof e.zh==="undefined"){e.zh={Fullscreen:"å…¨èž¢å¹•","Go Fullscreen":"å…¨å±�æ¨¡å¼�","Turn off Fullscreen":"é€€å‡ºå…¨å±�æ¨¡å¼�",Close:"é—œé–‰"}}})(mejs.i18n.locale.strings);if(typeof jQuery!="undefined"){mejs.$=jQuery}else if(typeof ender!="undefined"){mejs.$=ender}(function(e){mejs.MepDefaults={poster:"",showPosterWhenEnded:false,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(e){return e.duration*.05},defaultSeekForwardInterval:function(e){return e.duration*.05},setDimensions:true,audioWidth:-1,audioHeight:-1,startVolume:.8,loop:false,autoRewind:true,enableAutosize:true,alwaysShowHours:false,showTimecodeFrameCount:false,framesPerSecond:25,autosizeProgress:true,alwaysShowControls:false,hideVideoControlsOnLoad:false,clickToPlayPause:true,iPadUseNativeControls:false,iPhoneUseNativeControls:false,AndroidUseNativeControls:false,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:true,enableKeyboard:true,pauseOtherPlayers:true,keyActions:[{keys:[32,179],action:function(e,t){if(t.paused||t.ended){e.play()}else{e.pause()}}},{keys:[38],action:function(e,t){e.container.find(".mejs-volume-slider").css("display","block");if(e.isVideo){e.showControls();e.startControlsTimer()}var n=Math.min(t.volume+.1,1);t.setVolume(n)}},{keys:[40],action:function(e,t){e.container.find(".mejs-volume-slider").css("display","block");if(e.isVideo){e.showControls();e.startControlsTimer()}var n=Math.max(t.volume-.1,0);t.setVolume(n)}},{keys:[37,227],action:function(e,t){if(!isNaN(t.duration)&&t.duration>0){if(e.isVideo){e.showControls();e.startControlsTimer()}var n=Math.max(t.currentTime-e.options.defaultSeekBackwardInterval(t),0);t.setCurrentTime(n)}}},{keys:[39,228],action:function(e,t){if(!isNaN(t.duration)&&t.duration>0){if(e.isVideo){e.showControls();e.startControlsTimer()}var n=Math.min(t.currentTime+e.options.defaultSeekForwardInterval(t),t.duration);t.setCurrentTime(n)}}},{keys:[70],action:function(e,t){if(typeof e.enterFullScreen!="undefined"){if(e.isFullScreen){e.exitFullScreen()}else{e.enterFullScreen()}}}},{keys:[77],action:function(e,t){e.container.find(".mejs-volume-slider").css("display","block");if(e.isVideo){e.showControls();e.startControlsTimer()}if(e.media.muted){e.setMuted(false)}else{e.setMuted(true)}}}]};mejs.mepIndex=0;mejs.players={};mejs.MediaElementPlayer=function(t,n){if(!(this instanceof mejs.MediaElementPlayer)){return new mejs.MediaElementPlayer(t,n)}var r=this;r.$media=r.$node=e(t);r.node=r.media=r.$media[0];if(typeof r.node.player!="undefined"){return r.node.player}else{r.node.player=r}if(typeof n=="undefined"){n=r.$node.data("mejsoptions")}r.options=e.extend({},mejs.MepDefaults,n);r.id="mep_"+mejs.mepIndex++;mejs.players[r.id]=r;r.init();return r};mejs.MediaElementPlayer.prototype={hasFocus:false,controlsAreVisible:true,init:function(){var t=this,n=mejs.MediaFeatures,r=e.extend(true,{},t.options,{success:function(e,n){t.meReady(e,n)},error:function(e){t.handleError(e)}}),i=t.media.tagName.toLowerCase();t.isDynamic=i!=="audio"&&i!=="video";if(t.isDynamic){t.isVideo=t.options.isVideo}else{t.isVideo=i!=="audio"&&t.options.isVideo}if(n.isiPad&&t.options.iPadUseNativeControls||n.isiPhone&&t.options.iPhoneUseNativeControls){t.$media.attr("controls","controls");if(n.isiPad&&t.media.getAttribute("autoplay")!==null){t.play()}}else if(n.isAndroid&&t.options.AndroidUseNativeControls){}else{t.$media.removeAttr("controls");t.container=e('<div id="'+t.id+'" class="mejs-container '+(mejs.MediaFeatures.svg?"svg":"no-svg")+'">'+'<div class="mejs-inner">'+'<div class="mejs-mediaelement"></div>'+'<div class="mejs-layers"></div>'+'<div class="mejs-controls"></div>'+'<div class="mejs-clear"></div>'+"</div>"+"</div>").addClass(t.$media[0].className).insertBefore(t.$media);t.container.addClass((n.isAndroid?"mejs-android ":"")+(n.isiOS?"mejs-ios ":"")+(n.isiPad?"mejs-ipad ":"")+(n.isiPhone?"mejs-iphone ":"")+(t.isVideo?"mejs-video ":"mejs-audio "));if(n.isiOS){var s=t.$media.clone();t.container.find(".mejs-mediaelement").append(s);t.$media.remove();t.$node=t.$media=s;t.node=t.media=s[0]}else{t.container.find(".mejs-mediaelement").append(t.$media)}t.controls=t.container.find(".mejs-controls");t.layers=t.container.find(".mejs-layers");var o=t.isVideo?"video":"audio",u=o.substring(0,1).toUpperCase()+o.substring(1);if(t.options[o+"Width"]>0||t.options[o+"Width"].toString().indexOf("%")>-1){t.width=t.options[o+"Width"]}else if(t.media.style.width!==""&&t.media.style.width!==null){t.width=t.media.style.width}else if(t.media.getAttribute("width")!==null){t.width=t.$media.attr("width")}else{t.width=t.options["default"+u+"Width"]}if(t.options[o+"Height"]>0||t.options[o+"Height"].toString().indexOf("%")>-1){t.height=t.options[o+"Height"]}else if(t.media.style.height!==""&&t.media.style.height!==null){t.height=t.media.style.height}else if(t.$media[0].getAttribute("height")!==null){t.height=t.$media.attr("height")}else{t.height=t.options["default"+u+"Height"]}t.setPlayerSize(t.width,t.height);r.pluginWidth=t.width;r.pluginHeight=t.height}mejs.MediaElement(t.$media[0],r);if(typeof t.container!="undefined"&&t.controlsAreVisible){t.container.trigger("controlsshown")}},showControls:function(e){var t=this;e=typeof e=="undefined"||e;if(t.controlsAreVisible)return;if(e){t.controls.css("visibility","visible").stop(true,true).fadeIn(200,function(){t.controlsAreVisible=true;t.container.trigger("controlsshown")});t.container.find(".mejs-control").css("visibility","visible").stop(true,true).fadeIn(200,function(){t.controlsAreVisible=true})}else{t.controls.css("visibility","visible").css("display","block");t.container.find(".mejs-control").css("visibility","visible").css("display","block");t.controlsAreVisible=true;t.container.trigger("controlsshown")}t.setControlsSize()},hideControls:function(t){var n=this;t=typeof t=="undefined"||t;if(!n.controlsAreVisible||n.options.alwaysShowControls)return;if(t){n.controls.stop(true,true).fadeOut(200,function(){e(this).css("visibility","hidden").css("display","block");n.controlsAreVisible=false;n.container.trigger("controlshidden")});n.container.find(".mejs-control").stop(true,true).fadeOut(200,function(){e(this).css("visibility","hidden").css("display","block")})}else{n.controls.css("visibility","hidden").css("display","block");n.container.find(".mejs-control").css("visibility","hidden").css("display","block");n.controlsAreVisible=false;n.container.trigger("controlshidden")}},controlsTimer:null,startControlsTimer:function(e){var t=this;e=typeof e!="undefined"?e:1500;t.killControlsTimer("start");t.controlsTimer=setTimeout(function(){t.hideControls();t.killControlsTimer("hide")},e)},killControlsTimer:function(e){var t=this;if(t.controlsTimer!==null){clearTimeout(t.controlsTimer);delete t.controlsTimer;t.controlsTimer=null}},controlsEnabled:true,disableControls:function(){var e=this;e.killControlsTimer();e.hideControls(false);this.controlsEnabled=false},enableControls:function(){var e=this;e.showControls(false);e.controlsEnabled=true},meReady:function(e,t){var n=this,r=mejs.MediaFeatures,i=t.getAttribute("autoplay"),s=!(typeof i=="undefined"||i===null||i==="false"),o,u;if(n.created){return}else{n.created=true}n.media=e;n.domNode=t;if(!(r.isAndroid&&n.options.AndroidUseNativeControls)&&!(r.isiPad&&n.options.iPadUseNativeControls)&&!(r.isiPhone&&n.options.iPhoneUseNativeControls)){n.buildposter(n,n.controls,n.layers,n.media);n.buildkeyboard(n,n.controls,n.layers,n.media);n.buildoverlays(n,n.controls,n.layers,n.media);n.findTracks();for(o in n.options.features){u=n.options.features[o];if(n["build"+u]){try{n["build"+u](n,n.controls,n.layers,n.media)}catch(a){}}}n.container.trigger("controlsready");n.setPlayerSize(n.width,n.height);n.setControlsSize();if(n.isVideo){if(mejs.MediaFeatures.hasTouch){n.$media.bind("touchstart",function(){if(n.controlsAreVisible){n.hideControls(false)}else{if(n.controlsEnabled){n.showControls(false)}}})}else{n.clickToPlayPauseCallback=function(){if(n.options.clickToPlayPause){if(n.media.paused){n.play()}else{n.pause()}}};n.media.addEventListener("click",n.clickToPlayPauseCallback,false);n.container.bind("mouseenter mouseover",function(){if(n.controlsEnabled){if(!n.options.alwaysShowControls){n.killControlsTimer("enter");n.showControls();n.startControlsTimer(2500)}}}).bind("mousemove",function(){if(n.controlsEnabled){if(!n.controlsAreVisible){n.showControls()}if(!n.options.alwaysShowControls){n.startControlsTimer(2500)}}}).bind("mouseleave",function(){if(n.controlsEnabled){if(!n.media.paused&&!n.options.alwaysShowControls){n.startControlsTimer(1e3)}}})}if(n.options.hideVideoControlsOnLoad){n.hideControls(false)}if(s&&!n.options.alwaysShowControls){n.hideControls()}if(n.options.enableAutosize){n.media.addEventListener("loadedmetadata",function(e){if(n.options.videoHeight<=0&&n.domNode.getAttribute("height")===null&&!isNaN(e.target.videoHeight)){n.setPlayerSize(e.target.videoWidth,e.target.videoHeight);n.setControlsSize();n.media.setVideoSize(e.target.videoWidth,e.target.videoHeight)}},false)}}e.addEventListener("play",function(){var e;for(e in mejs.players){var t=mejs.players[e];if(t.id!=n.id&&n.options.pauseOtherPlayers&&!t.paused&&!t.ended){t.pause()}t.hasFocus=false}n.hasFocus=true},false);n.media.addEventListener("ended",function(e){if(n.options.autoRewind){try{n.media.setCurrentTime(0)}catch(t){}}n.media.pause();if(n.setProgressRail){n.setProgressRail()}if(n.setCurrentRail){n.setCurrentRail()}if(n.options.loop){n.play()}else if(!n.options.alwaysShowControls&&n.controlsEnabled){n.showControls()}},false);n.media.addEventListener("loadedmetadata",function(e){if(n.updateDuration){n.updateDuration()}if(n.updateCurrent){n.updateCurrent()}if(!n.isFullScreen){n.setPlayerSize(n.width,n.height);n.setControlsSize()}},false);setTimeout(function(){n.setPlayerSize(n.width,n.height);n.setControlsSize()},50);n.globalBind("resize",function(){if(!(n.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen)){n.setPlayerSize(n.width,n.height)}n.setControlsSize()});if(n.media.pluginType=="youtube"&&n.options.autoplay){n.container.find(".mejs-overlay-play").hide()}}if(s&&e.pluginType=="native"){n.play()}if(n.options.success){if(typeof n.options.success=="string"){window[n.options.success](n.media,n.domNode,n)}else{n.options.success(n.media,n.domNode,n)}}},handleError:function(e){var t=this;t.controls.hide();if(t.options.error){t.options.error(e)}},setPlayerSize:function(t,n){var r=this;if(!r.options.setDimensions){return false}if(typeof t!="undefined"){r.width=t}if(typeof n!="undefined"){r.height=n}if(r.height.toString().indexOf("%")>0||r.$node.css("max-width")==="100%"||r.$node[0].currentStyle&&r.$node[0].currentStyle.maxWidth==="100%"){var i=function(){if(r.isVideo){if(r.media.videoWidth&&r.media.videoWidth>0){return r.media.videoWidth}else if(r.media.getAttribute("width")!==null){return r.media.getAttribute("width")}else{return r.options.defaultVideoWidth}}else{return r.options.defaultAudioWidth}}();var s=function(){if(r.isVideo){if(r.media.videoHeight&&r.media.videoHeight>0){return r.media.videoHeight}else if(r.media.getAttribute("height")!==null){return r.media.getAttribute("height")}else{return r.options.defaultVideoHeight}}else{return r.options.defaultAudioHeight}}();var o=r.container.parent().closest(":visible").width(),u=r.container.parent().closest(":visible").height(),a=r.isVideo||!r.options.autosizeProgress?parseInt(o*s/i,10):s;if(isNaN(a)||u!=0&&a>u){a=u}if(r.container.parent()[0].tagName.toLowerCase()==="body"){o=e(window).width();a=e(window).height()}if(a!=0&&o!=0){r.container.width(o).height(a);r.$media.add(r.container.find(".mejs-shim")).width("100%").height("100%");if(r.isVideo){if(r.media.setVideoSize){r.media.setVideoSize(o,a)}}r.layers.children(".mejs-layer").width("100%").height("100%")}}else{r.container.width(r.width).height(r.height);r.layers.children(".mejs-layer").width(r.width).height(r.height)}var f=parseInt(a/o*100);var l=parseInt(r.node.id.replace("media-mejs-",""));e("#media-aspect-"+l).css("padding-top",f+"%");var c=r.layers.find(".mejs-overlay-play"),h=c.find(".mejs-overlay-button");c.height(r.container.height()-r.controls.height());h.css("margin-top","-"+(h.height()/2-r.controls.height()/2).toString()+"px")},setControlsSize:function(){var t=this,n=0,r=0,i=t.controls.find(".mejs-time-rail"),s=t.controls.find(".mejs-time-total"),o=t.controls.find(".mejs-time-current"),u=t.controls.find(".mejs-time-loaded"),a=i.siblings(),f=a.last(),l=null;if(!t.container.is(":visible")||!i.length||!i.is(":visible")){return}if(t.options&&!t.options.autosizeProgress){r=parseInt(i.css("width"))}if(r===0||!r){a.each(function(){var t=e(this);if(t.css("position")!="absolute"&&t.is(":visible")){n+=e(this).outerWidth(true)}});r=t.controls.width()-n-(i.outerWidth(true)-i.width())}do{i.width(r);s.width(r-(s.outerWidth(true)-s.width()));if(f.css("position")!="absolute"){l=f.position();r--}}while(l!=null&&l.top>0&&r>0);if(t.setProgressRail)t.setProgressRail();if(t.setCurrentRail)t.setCurrentRail()},buildposter:function(t,n,r,i){var s=this,o=e('<div class="mejs-poster mejs-layer">'+"</div>").appendTo(r),u=t.$media.attr("poster");if(t.options.poster!==""){u=t.options.poster}if(u!==""&&u!=null){s.setPoster(u)}else{o.hide()}i.addEventListener("play",function(){o.hide()},false);if(t.options.showPosterWhenEnded&&t.options.autoRewind){i.addEventListener("ended",function(){o.show()},false)}},setPoster:function(t){var n=this,r=n.container.find(".mejs-poster"),i=r.find("img");if(i.length==0){i=e('<img width="100%" height="100%" />').appendTo(r)}i.attr("src",t);r.css({"background-image":"url("+t+")"})},buildoverlays:function(t,n,r,i){var s=this;if(!t.isVideo)return;var o=e('<div class="mejs-overlay mejs-layer">'+'<div class="mejs-overlay-loading"><span></span></div>'+"</div>").hide().appendTo(r),u=e('<div class="mejs-overlay mejs-layer">'+'<div class="mejs-overlay-error"></div>'+"</div>").hide().appendTo(r),a=e('<div class="mejs-overlay mejs-layer mejs-overlay-play">'+'<div class="mejs-overlay-button"></div>'+"</div>").appendTo(r).bind("click",function(){if(s.options.clickToPlayPause){if(i.paused){i.play()}}});i.addEventListener("play",function(){a.hide();o.hide();n.find(".mejs-time-buffering").hide();u.hide()},false);i.addEventListener("playing",function(){a.hide();o.hide();n.find(".mejs-time-buffering").hide();u.hide()},false);i.addEventListener("seeking",function(){o.show();n.find(".mejs-time-buffering").show()},false);i.addEventListener("seeked",function(){o.hide();n.find(".mejs-time-buffering").hide()},false);i.addEventListener("pause",function(){if(!mejs.MediaFeatures.isiPhone){a.show()}},false);i.addEventListener("waiting",function(){o.show();n.find(".mejs-time-buffering").show()},false);i.addEventListener("loadeddata",function(){o.show();n.find(".mejs-time-buffering").show()},false);i.addEventListener("canplay",function(){o.hide();n.find(".mejs-time-buffering").hide()},false);i.addEventListener("error",function(){o.hide();n.find(".mejs-time-buffering").hide();u.show();u.find("mejs-overlay-error").html("Error loading this resource")},false);i.addEventListener("keydown",function(e){s.onkeydown(t,i,e)},false)},buildkeyboard:function(t,n,r,i){var s=this;s.globalBind("keydown",function(e){return s.onkeydown(t,i,e)});s.globalBind("click",function(n){t.hasFocus=e(n.target).closest(".mejs-container").length!=0})},onkeydown:function(e,t,n){if(e.hasFocus&&e.options.enableKeyboard){for(var r=0,i=e.options.keyActions.length;r<i;r++){var s=e.options.keyActions[r];for(var o=0,u=s.keys.length;o<u;o++){if(n.keyCode==s.keys[o]){if(typeof n.preventDefault=="function")n.preventDefault();s.action(e,t,n.keyCode);return false}}}}return true},findTracks:function(){var t=this,n=t.$media.find("track");t.tracks=[];n.each(function(n,r){r=e(r);t.tracks.push({srclang:r.attr("srclang")?r.attr("srclang").toLowerCase():"",src:r.attr("src"),kind:r.attr("kind"),label:r.attr("label")||"",entries:[],isLoaded:false})})},changeSkin:function(e){this.container[0].className="mejs-container "+e;this.setPlayerSize(this.width,this.height);this.setControlsSize()},play:function(){this.load();this.media.play()},pause:function(){try{this.media.pause()}catch(e){}},load:function(){if(!this.isLoaded){this.media.load()}this.isLoaded=true},setMuted:function(e){this.media.setMuted(e)},setCurrentTime:function(e){this.media.setCurrentTime(e)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(e){this.media.setVolume(e)},getVolume:function(){return this.media.volume},setSrc:function(e){this.media.setSrc(e)},remove:function(){var e=this,t,n;for(t in e.options.features){n=e.options.features[t];if(e["clean"+n]){try{e["clean"+n](e)}catch(r){}}}if(!e.isDynamic){e.$media.prop("controls",true);e.$node.clone().insertBefore(e.container).show();e.$node.remove()}else{e.$node.insertBefore(e.container)}if(e.media.pluginType!=="native"){e.media.remove()}delete mejs.players[e.id];if(typeof e.container=="object"){e.container.remove()}e.globalUnbind();delete e.node.player}};(function(){function n(n,r){var i={d:[],w:[]};e.each((n||"").split(" "),function(e,n){var s=n+"."+r;if(s.indexOf(".")===0){i.d.push(s);i.w.push(s)}else{i[t.test(n)?"w":"d"].push(s)}});i.d=i.d.join(" ");i.w=i.w.join(" ");return i}var t=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/;mejs.MediaElementPlayer.prototype.globalBind=function(t,r,i){var s=this;t=n(t,s.id);if(t.d)e(document).bind(t.d,r,i);if(t.w)e(window).bind(t.w,r,i)};mejs.MediaElementPlayer.prototype.globalUnbind=function(t,r){var i=this;t=n(t,i.id);if(t.d)e(document).unbind(t.d,r);if(t.w)e(window).unbind(t.w,r)}})();if(typeof e!="undefined"){e.fn.mediaelementplayer=function(t){if(t===false){this.each(function(){var t=e(this).data("mediaelementplayer");if(t){t.remove()}e(this).removeData("mediaelementplayer")})}else{this.each(function(){e(this).data("mediaelementplayer",new mejs.MediaElementPlayer(this,t))})}return this};e(document).ready(function(){e(".mejs-player").mediaelementplayer()})}window.MediaElementPlayer=mejs.MediaElementPlayer})(mejs.$);(function(e){e.extend(mejs.MepDefaults,{playpauseText:mejs.i18n.t("Play/Pause")});e.extend(MediaElementPlayer.prototype,{buildplaypause:function(t,n,r,i){var s=this,o=e('<div class="mejs-button mejs-playpause-button mejs-play" >'+'<button type="button" aria-controls="'+s.id+'" title="'+s.options.playpauseText+'" aria-label="'+s.options.playpauseText+'"></button>'+"</div>").appendTo(n).click(function(e){e.preventDefault();if(i.paused){i.play()}else{i.pause()}return false});i.addEventListener("play",function(){o.removeClass("mejs-play").addClass("mejs-pause")},false);i.addEventListener("playing",function(){o.removeClass("mejs-play").addClass("mejs-pause")},false);i.addEventListener("pause",function(){o.removeClass("mejs-pause").addClass("mejs-play")},false);i.addEventListener("paused",function(){o.removeClass("mejs-pause").addClass("mejs-play")},false)}})})(mejs.$);(function(e){e.extend(mejs.MepDefaults,{stopText:"Stop"});e.extend(MediaElementPlayer.prototype,{buildstop:function(t,n,r,i){var s=this,o=e('<div class="mejs-button mejs-stop-button mejs-stop">'+'<button type="button" aria-controls="'+s.id+'" title="'+s.options.stopText+'" aria-label="'+s.options.stopText+'"></button>'+"</div>").appendTo(n).click(function(){if(!i.paused){i.pause()}if(i.currentTime>0){i.setCurrentTime(0);i.pause();n.find(".mejs-time-current").width("0px");n.find(".mejs-time-handle").css("left","0px");n.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0));n.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0));r.find(".mejs-poster").show()}})}})})(mejs.$);(function(e){e.extend(MediaElementPlayer.prototype,{buildprogress:function(t,n,r,i){e('<div class="mejs-time-rail">'+'<span class="mejs-time-total">'+'<span class="mejs-time-buffering"></span>'+'<span class="mejs-time-loaded"></span>'+'<span class="mejs-time-current"></span>'+'<span class="mejs-time-handle"></span>'+'<span class="mejs-time-float">'+'<span class="mejs-time-float-current">00:00</span>'+'<span class="mejs-time-float-corner"></span>'+"</span>"+"</span>"+"</div>").appendTo(n);n.find(".mejs-time-buffering").hide();var s=this,o=n.find(".mejs-time-total"),u=n.find(".mejs-time-loaded"),a=n.find(".mejs-time-current"),f=n.find(".mejs-time-handle"),l=n.find(".mejs-time-float"),c=n.find(".mejs-time-float-current"),h=function(e){if(e.originalEvent.changedTouches){var t=e.originalEvent.changedTouches[0].pageX}else{var t=e.pageX}var n=o.offset(),r=o.outerWidth(true),s=0,u=0,a=0;if(i.duration){if(t<n.left){t=n.left}else if(t>r+n.left){t=r+n.left}a=t-n.left;s=a/r;u=s<=.02?0:s*i.duration;if(p&&u!==i.currentTime){i.setCurrentTime(u)}if(!mejs.MediaFeatures.hasTouch){l.css("left",a);c.html(mejs.Utility.secondsToTimeCode(u));l.show()}}},p=false,d=false;o.bind("mousedown touchstart",function(e){if(e.which===1||e.which===0){p=true;h(e);s.globalBind("mousemove.dur touchmove.dur",function(e){h(e)});s.globalBind("mouseup.dur touchend.dur",function(e){p=false;l.hide();s.globalUnbind(".dur")});return false}}).bind("mouseenter",function(e){d=true;s.globalBind("mousemove.dur",function(e){h(e)});if(!mejs.MediaFeatures.hasTouch){l.show()}}).bind("mouseleave",function(e){d=false;if(!p){s.globalUnbind(".dur");l.hide()}});i.addEventListener("progress",function(e){t.setProgressRail(e);t.setCurrentRail(e)},false);i.addEventListener("timeupdate",function(e){t.setProgressRail(e);t.setCurrentRail(e)},false);s.loaded=u;s.total=o;s.current=a;s.handle=f},setProgressRail:function(e){var t=this,n=e!=undefined?e.target:t.media,r=null;if(n&&n.buffered&&n.buffered.length>0&&n.buffered.end&&n.duration){r=n.buffered.end(0)/n.duration}else if(n&&n.bytesTotal!=undefined&&n.bytesTotal>0&&n.bufferedBytes!=undefined){r=n.bufferedBytes/n.bytesTotal}else if(e&&e.lengthComputable&&e.total!=0){r=e.loaded/e.total}if(r!==null){r=Math.min(1,Math.max(0,r));if(t.loaded&&t.total){t.loaded.width(t.total.width()*r)}}},setCurrentRail:function(){var e=this;if(e.media.currentTime!=undefined&&e.media.duration){if(e.total&&e.handle){var t=Math.round(e.total.width()*e.media.currentTime/e.media.duration),n=t-Math.round(e.handle.outerWidth(true)/2);e.current.width(t);e.handle.css("left",n)}}}})})(mejs.$);(function(e){e.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:"<span> | </span>"});e.extend(MediaElementPlayer.prototype,{buildcurrent:function(t,n,r,i){var s=this;e('<div class="mejs-time">'+'<span class="mejs-currenttime">'+(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span>"+"</div>").appendTo(n);s.currenttime=s.controls.find(".mejs-currenttime");i.addEventListener("timeupdate",function(){t.updateCurrent()},false)},buildduration:function(t,n,r,i){var s=this;if(n.children().last().find(".mejs-currenttime").length>0){e(s.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(s.options.duration>0?mejs.Utility.secondsToTimeCode(s.options.duration,s.options.alwaysShowHours||s.media.duration>3600,s.options.showTimecodeFrameCount,s.options.framesPerSecond||25):(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(n.find(".mejs-time"))}else{n.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container");e('<div class="mejs-time mejs-duration-container">'+'<span class="mejs-duration">'+(s.options.duration>0?mejs.Utility.secondsToTimeCode(s.options.duration,s.options.alwaysShowHours||s.media.duration>3600,s.options.showTimecodeFrameCount,s.options.framesPerSecond||25):(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>"+"</div>").appendTo(n)}s.durationD=s.controls.find(".mejs-duration");i.addEventListener("timeupdate",function(){t.updateDuration()},false)},updateCurrent:function(){var e=this;if(e.currenttime){e.currenttime.html(mejs.Utility.secondsToTimeCode(e.media.currentTime,e.options.alwaysShowHours||e.media.duration>3600,e.options.showTimecodeFrameCount,e.options.framesPerSecond||25))}},updateDuration:function(){var e=this;e.container.toggleClass("mejs-long-video",e.media.duration>3600);if(e.durationD&&(e.options.duration>0||e.media.duration)){e.durationD.html(mejs.Utility.secondsToTimeCode(e.options.duration>0?e.options.duration:e.media.duration,e.options.alwaysShowHours,e.options.showTimecodeFrameCount,e.options.framesPerSecond||25))}}})})(mejs.$);(function(e){e.extend(mejs.MepDefaults,{muteText:mejs.i18n.t("Mute Toggle"),hideVolumeOnTouchDevices:true,audioVolume:"horizontal",videoVolume:"vertical"});e.extend(MediaElementPlayer.prototype,{buildvolume:function(t,n,r,i){if((mejs.MediaFeatures.isAndroid||mejs.MediaFeatures.isiOS)&&this.options.hideVolumeOnTouchDevices)return;var s=this,o=s.isVideo?s.options.videoVolume:s.options.audioVolume,u=o=="horizontal"?e('<div class="mejs-button mejs-volume-button mejs-mute">'+'<button type="button" aria-controls="'+s.id+'" title="'+s.options.muteText+'" aria-label="'+s.options.muteText+'"></button>'+"</div>"+'<div class="mejs-horizontal-volume-slider">'+'<div class="mejs-horizontal-volume-total"></div>'+'<div class="mejs-horizontal-volume-current"></div>'+'<div class="mejs-horizontal-volume-handle"></div>'+"</div>").appendTo(n):e('<div class="mejs-button mejs-volume-button mejs-mute">'+'<button type="button" aria-controls="'+s.id+'" title="'+s.options.muteText+'" aria-label="'+s.options.muteText+'"></button>'+'<div class="mejs-volume-slider">'+'<div class="mejs-volume-total"></div>'+'<div class="mejs-volume-current"></div>'+'<div class="mejs-volume-handle"></div>'+"</div>"+"</div>").appendTo(n),a=s.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),f=s.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),l=s.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),c=s.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),h=function(e,t){if(!a.is(":visible")&&typeof t=="undefined"){a.show();h(e,true);a.hide();return}e=Math.max(0,e);e=Math.min(e,1);if(e==0){u.removeClass("mejs-mute").addClass("mejs-unmute")}else{u.removeClass("mejs-unmute").addClass("mejs-mute")}if(o=="vertical"){var n=f.height(),r=f.position(),i=n-n*e;c.css("top",Math.round(r.top+i-c.height()/2));l.height(n-i);l.css("top",r.top+i)}else{var s=f.width(),r=f.position(),p=s*e;c.css("left",Math.round(r.left+p-c.width()/2));l.width(Math.round(p))}},p=function(e){var t=null,n=f.offset();if(o=="vertical"){var r=f.height(),s=parseInt(f.css("top").replace(/px/,""),10),u=e.pageY-n.top;t=(r-u)/r;if(n.top==0||n.left==0)return}else{var a=f.width(),l=e.pageX-n.left;t=l/a}t=Math.max(0,t);t=Math.min(t,1);h(t);if(t==0){i.setMuted(true)}else{i.setMuted(false)}i.setVolume(t)},d=false,v=false;u.hover(function(){a.show();v=true},function(){v=false;if(!d&&o=="vertical"){a.hide()}});a.bind("mouseover",function(){v=true}).bind("mousedown",function(e){p(e);s.globalBind("mousemove.vol",function(e){p(e)});s.globalBind("mouseup.vol",function(){d=false;s.globalUnbind(".vol");if(!v&&o=="vertical"){a.hide()}});d=true;return false});u.find("button").click(function(){i.setMuted(!i.muted)});i.addEventListener("volumechange",function(e){if(!d){if(i.muted){h(0);u.removeClass("mejs-mute").addClass("mejs-unmute")}else{h(i.volume);u.removeClass("mejs-unmute").addClass("mejs-mute")}}},false);if(s.container.is(":visible")){h(t.options.startVolume);if(t.options.startVolume===0){i.setMuted(true)}if(i.pluginType==="native"){i.setVolume(t.options.startVolume)}}}})})(mejs.$);(function(e){e.extend(mejs.MepDefaults,{usePluginFullScreen:true,newWindowCallback:function(){return""},fullscreenText:mejs.i18n.t("Fullscreen")});e.extend(MediaElementPlayer.prototype,{isFullScreen:false,isNativeFullScreen:false,isInIframe:false,buildfullscreen:function(t,n,r,i){if(!t.isVideo)return;t.isInIframe=window.location!=window.parent.location;if(mejs.MediaFeatures.hasTrueNativeFullScreen){var s=function(e){if(t.isFullScreen){if(mejs.MediaFeatures.isFullScreen()){t.isNativeFullScreen=true;t.setControlsSize()}else{t.isNativeFullScreen=false;t.exitFullScreen()}}};t.globalBind(mejs.MediaFeatures.fullScreenEventName,s)}var o=this,u=0,a=0,f=t.container,l=e('<div class="mejs-button mejs-fullscreen-button">'+'<button type="button" aria-controls="'+o.id+'" title="'+o.options.fullscreenText+'" aria-label="'+o.options.fullscreenText+'"></button>'+"</div>").appendTo(n);if(o.media.pluginType==="native"||!o.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox){l.click(function(){var e=mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||t.isFullScreen;if(e){t.exitFullScreen()}else{t.enterFullScreen()}})}else{var c=null,h=function(){var e=document.createElement("x"),t=document.documentElement,n=window.getComputedStyle,r;if(!("pointerEvents"in e.style)){return false}e.style.pointerEvents="auto";e.style.pointerEvents="x";t.appendChild(e);r=n&&n(e,"").pointerEvents==="auto";t.removeChild(e);return!!r}();if(h&&!mejs.MediaFeatures.isOpera){var p=false,d=function(){if(p){for(var e in v){v[e].hide()}l.css("pointer-events","");o.controls.css("pointer-events","");o.media.removeEventListener("click",o.clickToPlayPauseCallback);p=false}},v={},m=["top","left","right","bottom"],g,y,b=function(){var e=l.offset().left-o.container.offset().left,t=l.offset().top-o.container.offset().top,n=l.outerWidth(true),r=l.outerHeight(true),i=o.container.width(),s=o.container.height();for(g in v){v[g].css({position:"absolute",top:0,left:0})}v["top"].width(i).height(t);v["left"].width(e).height(r).css({top:t});v["right"].width(i-e-n).height(r).css({top:t,left:e+n});v["bottom"].width(i).height(s-r-t).css({top:t+r})};o.globalBind("resize",function(){b()});for(g=0,y=m.length;g<y;g++){v[m[g]]=e('<div class="mejs-fullscreen-hover" />').appendTo(o.container).mouseover(d).hide()}l.on("mouseover",function(){if(!o.isFullScreen){var e=l.offset(),n=t.container.offset();i.positionFullscreenButton(e.left-n.left,e.top-n.top,false);l.css("pointer-events","none");o.controls.css("pointer-events","none");o.media.addEventListener("click",o.clickToPlayPauseCallback);for(g in v){v[g].show()}b();p=true}});i.addEventListener("fullscreenchange",function(e){o.isFullScreen=!o.isFullScreen;if(o.isFullScreen){o.media.removeEventListener("click",o.clickToPlayPauseCallback)}else{o.media.addEventListener("click",o.clickToPlayPauseCallback)}d()});o.globalBind("mousemove",function(e){if(p){var t=l.offset();if(e.pageY<t.top||e.pageY>t.top+l.outerHeight(true)||e.pageX<t.left||e.pageX>t.left+l.outerWidth(true)){l.css("pointer-events","");o.controls.css("pointer-events","");p=false}}})}else{l.on("mouseover",function(){if(c!==null){clearTimeout(c);delete c}var e=l.offset(),n=t.container.offset();i.positionFullscreenButton(e.left-n.left,e.top-n.top,true)}).on("mouseout",function(){if(c!==null){clearTimeout(c);delete c}c=setTimeout(function(){i.hideFullscreenButton()},1500)})}}t.fullscreenBtn=l;o.globalBind("keydown",function(e){if((mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||o.isFullScreen)&&e.keyCode==27){t.exitFullScreen()}})},cleanfullscreen:function(e){e.exitFullScreen()},containerSizeTimeout:null,enterFullScreen:function(){var t=this;if(t.media.pluginType!=="native"&&(mejs.MediaFeatures.isFirefox||t.options.usePluginFullScreen)){return}e(document.documentElement).addClass("mejs-fullscreen");normalHeight=t.container.height();normalWidth=t.container.width();if(t.media.pluginType==="native"){if(mejs.MediaFeatures.hasTrueNativeFullScreen){mejs.MediaFeatures.requestFullScreen(t.container[0]);if(t.isInIframe){setTimeout(function r(){if(t.isNativeFullScreen){var n=window["devicePixelRatio"]||1;var i=.002;var s=n*e(window).width();var o=screen.width;var u=Math.abs(o-s);var a=o*i;if(u>a){t.exitFullScreen()}else{setTimeout(r,500)}}},500)}}else if(mejs.MediaFeatures.hasSemiNativeFullScreen){t.media.webkitEnterFullscreen();return}}if(t.isInIframe){var n=t.options.newWindowCallback(this);if(n!==""){if(!mejs.MediaFeatures.hasTrueNativeFullScreen){t.pause();window.open(n,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");return}else{setTimeout(function(){if(!t.isNativeFullScreen){t.pause();window.open(n,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no")}},250)}}}t.container.addClass("mejs-container-fullscreen").width("100%").height("100%");t.containerSizeTimeout=setTimeout(function(){t.container.css({width:"100%",height:"100%"});t.setControlsSize()},500);if(t.media.pluginType==="native"){t.$media.width("100%").height("100%")}else{t.container.find(".mejs-shim").width("100%").height("100%");t.media.setVideoSize(e(window).width(),e(window).height())}t.layers.children("div").width("100%").height("100%");if(t.fullscreenBtn){t.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen")}t.setControlsSize();t.isFullScreen=true;t.container.find(".mejs-captions-text").css("font-size",screen.width/t.width*1*100+"%");t.container.find(".mejs-captions-position").css("bottom","45px")},exitFullScreen:function(){var t=this;clearTimeout(t.containerSizeTimeout);if(t.media.pluginType!=="native"&&mejs.MediaFeatures.isFirefox){t.media.setFullscreen(false);return}if(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||t.isFullScreen)){mejs.MediaFeatures.cancelFullScreen()}e(document.documentElement).removeClass("mejs-fullscreen");t.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight);if(t.media.pluginType==="native"){t.$media.width(normalWidth).height(normalHeight)}else{t.container.find(".mejs-shim").width(normalWidth).height(normalHeight);t.media.setVideoSize(normalWidth,normalHeight)}t.layers.children("div").width(normalWidth).height(normalHeight);t.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen");t.setControlsSize();t.isFullScreen=false;t.container.find(".mejs-captions-text").css("font-size","");t.container.find(".mejs-captions-position").css("bottom","")}})})(mejs.$);(function(e){e.extend(mejs.MepDefaults,{speeds:["1.50","1.25","1.00","0.75"],defaultSpeed:"1.00"});e.extend(MediaElementPlayer.prototype,{buildspeed:function(t,n,r,i){var s=this;if(s.media.pluginType=="native"){var o='<div class="mejs-button mejs-speed-button"><button type="button">'+s.options.defaultSpeed+'x</button><div class="mejs-speed-selector"><ul>';var u,a;if(e.inArray(s.options.defaultSpeed,s.options.speeds)===-1){s.options.speeds.push(s.options.defaultSpeed)}s.options.speeds.sort(function(e,t){return parseFloat(t)-parseFloat(e)});for(u=0;u<s.options.speeds.length;u++){o+='<li><input type="radio" name="speed" value="'+s.options.speeds[u]+'" id="'+s.options.speeds[u]+'" ';if(s.options.speeds[u]==s.options.defaultSpeed){o+="checked=true ";o+='/><label for="'+s.options.speeds[u]+'" class="mejs-speed-selected">'+s.options.speeds[u]+"x</label></li>"}else{o+='/><label for="'+s.options.speeds[u]+'">'+s.options.speeds[u]+"x</label></li>"}}o+="</ul></div></div>";t.speedButton=e(o).appendTo(n);t.playbackspeed=s.options.defaultSpeed;t.speedButton.on("click","input[type=radio]",function(){t.playbackspeed=e(this).attr("value");i.playbackRate=parseFloat(t.playbackspeed);t.speedButton.find("button").text(t.playbackspeed+"x");t.speedButton.find(".mejs-speed-selected").removeClass("mejs-speed-selected");t.speedButton.find("input[type=radio]:checked").next().addClass("mejs-speed-selected")});a=t.speedButton.find(".mejs-speed-selector");a.height(this.speedButton.find(".mejs-speed-selector ul").outerHeight(true)+t.speedButton.find(".mejs-speed-translations").outerHeight(true));a.css("top",-1*a.height()+"px")}}})})(mejs.$);(function(e){e.extend(mejs.MepDefaults,{startLanguage:"",tracksText:mejs.i18n.t("Captions/Subtitles"),hideCaptionsButtonWhenEmpty:true,toggleCaptionsButtonWhenOnlyOne:false,slidesSelector:""});e.extend(MediaElementPlayer.prototype,{hasChapters:false,buildtracks:function(t,n,r,i){if(t.tracks.length===0)return;var s=this,o,u="";if(s.domNode.textTracks){for(o=s.domNode.textTracks.length-1;o>=0;o--){s.domNode.textTracks[o].mode="hidden"}}t.chapters=e('<div class="mejs-chapters mejs-layer"></div>').prependTo(r).hide();t.captions=e('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position mejs-captions-position-hover"><span class="mejs-captions-text"></span></div></div>').prependTo(r).hide();t.captionsText=t.captions.find(".mejs-captions-text");t.captionsButton=e('<div class="mejs-button mejs-captions-button">'+'<button type="button" aria-controls="'+s.id+'" title="'+s.options.tracksText+'" aria-label="'+s.options.tracksText+'"></button>'+'<div class="mejs-captions-selector">'+"<ul>"+"<li>"+'<input type="radio" name="'+t.id+'_captions" id="'+t.id+'_captions_none" value="none" checked="checked" />'+'<label for="'+t.id+'_captions_none">'+mejs.i18n.t("None")+"</label>"+"</li>"+"</ul>"+"</div>"+"</div>").appendTo(n);var a=0;for(o=0;o<t.tracks.length;o++){if(t.tracks[o].kind=="subtitles"){a++}}if(s.options.toggleCaptionsButtonWhenOnlyOne&&a==1){t.captionsButton.on("click",function(){if(t.selectedTrack===null){lang=t.tracks[0].srclang}else{lang="none"}t.setTrack(lang)})}else{t.captionsButton.on("mouseenter focusin",function(){e(this).find(".mejs-captions-selector").css("visibility","visible")}).on("click","input[type=radio]",function(){lang=this.value;t.setTrack(lang)});t.captionsButton.on("mouseleave focusout",function(){e(this).find(".mejs-captions-selector").css("visibility","hidden")})}if(!t.options.alwaysShowControls){t.container.bind("controlsshown",function(){t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("controlshidden",function(){if(!i.paused){t.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}})}else{t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}t.trackToLoad=-1;t.selectedTrack=null;t.isLoadingTrack=false;for(o=0;o<t.tracks.length;o++){if(t.tracks[o].kind=="subtitles"){t.addTrackButton(t.tracks[o].srclang,t.tracks[o].label)}}t.loadNextTrack();i.addEventListener("timeupdate",function(e){t.displayCaptions()},false);if(t.options.slidesSelector!==""){t.slidesContainer=e(t.options.slidesSelector);i.addEventListener("timeupdate",function(e){t.displaySlides()},false)}i.addEventListener("loadedmetadata",function(e){t.displayChapters()},false);t.container.hover(function(){if(t.hasChapters){t.chapters.css("visibility","visible");t.chapters.fadeIn(200).height(t.chapters.find(".mejs-chapter").outerHeight())}},function(){if(t.hasChapters&&!i.paused){t.chapters.fadeOut(200,function(){e(this).css("visibility","hidden");e(this).css("display","block")})}});if(t.node.getAttribute("autoplay")!==null){t.chapters.css("visibility","hidden")}},setTrack:function(e){var t=this,n;if(e=="none"){t.selectedTrack=null;t.captionsButton.removeClass("mejs-captions-enabled")}else{for(n=0;n<t.tracks.length;n++){if(t.tracks[n].srclang==e){if(t.selectedTrack===null)t.captionsButton.addClass("mejs-captions-enabled");t.selectedTrack=t.tracks[n];t.captions.attr("lang",t.selectedTrack.srclang);t.displayCaptions();break}}}},loadNextTrack:function(){var e=this;e.trackToLoad++;if(e.trackToLoad<e.tracks.length){e.isLoadingTrack=true;e.loadTrack(e.trackToLoad)}else{e.isLoadingTrack=false;e.checkForTracks()}},loadTrack:function(t){var n=this,r=n.tracks[t],i=function(){r.isLoaded=true;n.enableTrackButton(r.srclang,r.label);n.loadNextTrack()};e.ajax({url:r.src,dataType:"text",success:function(e){if(typeof e=="string"&&/<tt\s+xml/ig.exec(e)){r.entries=mejs.TrackFormatParser.dfxp.parse(e)}else{r.entries=mejs.TrackFormatParser.webvtt.parse(e)}i();if(r.kind=="chapters"){n.media.addEventListener("play",function(e){if(n.media.duration>0){n.displayChapters(r)}},false)}if(r.kind=="slides"){n.setupSlides(r)}},error:function(){n.loadNextTrack()}})},enableTrackButton:function(t,n){var r=this;if(n===""){n=mejs.language.codes[t]||t}r.captionsButton.find("input[value="+t+"]").prop("disabled",false).siblings("label").html(n);if(r.options.startLanguage==t){e("#"+r.id+"_captions_"+t).prop("checked",true).trigger("click")}r.adjustLanguageBox()},addTrackButton:function(t,n){var r=this;if(n===""){n=mejs.language.codes[t]||t}r.captionsButton.find("ul").append(e("<li>"+'<input type="radio" name="'+r.id+'_captions" id="'+r.id+"_captions_"+t+'" value="'+t+'" disabled="disabled" />'+'<label for="'+r.id+"_captions_"+t+'">'+n+" (loading)"+"</label>"+"</li>"));r.adjustLanguageBox();r.container.find(".mejs-captions-translations option[value="+t+"]").remove()},adjustLanguageBox:function(){var e=this;e.captionsButton.find(".mejs-captions-selector").height(e.captionsButton.find(".mejs-captions-selector ul").outerHeight(true)+e.captionsButton.find(".mejs-captions-translations").outerHeight(true))},checkForTracks:function(){var e=this,t=false;if(e.options.hideCaptionsButtonWhenEmpty){for(i=0;i<e.tracks.length;i++){if(e.tracks[i].kind=="subtitles"){t=true;break}}if(!t){e.captionsButton.hide();e.setControlsSize()}}},displayCaptions:function(){if(typeof this.tracks=="undefined")return;var e=this,t,n=e.selectedTrack;if(n!==null&&n.isLoaded){for(t=0;t<n.entries.times.length;t++){if(e.media.currentTime>=n.entries.times[t].start&&e.media.currentTime<=n.entries.times[t].stop){e.captionsText.html(n.entries.text[t]).attr("class","mejs-captions-text "+(n.entries.times[t].identifier||""));e.captions.show().height(0);return}}e.captions.hide()}else{e.captions.hide()}},setupSlides:function(e){var t=this;t.slides=e;t.slides.entries.imgs=[t.slides.entries.text.length];t.showSlide(0)},showSlide:function(t){if(typeof this.tracks=="undefined"||typeof this.slidesContainer=="undefined"){return}var n=this,r=n.slides.entries.text[t],i=n.slides.entries.imgs[t];if(typeof i=="undefined"||typeof i.fadeIn=="undefined"){n.slides.entries.imgs[t]=i=e('<img src="'+r+'">').on("load",function(){i.appendTo(n.slidesContainer).hide().fadeIn().siblings(":visible").fadeOut()})}else{if(!i.is(":visible")&&!i.is(":animated")){i.fadeIn().siblings(":visible").fadeOut()}}},displaySlides:function(){if(typeof this.slides=="undefined")return;var e=this,t=e.slides,n;for(n=0;n<t.entries.times.length;n++){if(e.media.currentTime>=t.entries.times[n].start&&e.media.currentTime<=t.entries.times[n].stop){e.showSlide(n);return}}},displayChapters:function(){var e=this,t;for(t=0;t<e.tracks.length;t++){if(e.tracks[t].kind=="chapters"&&e.tracks[t].isLoaded){e.drawChapters(e.tracks[t]);e.hasChapters=true;break}}},drawChapters:function(t){var n=this,r,i,s=0,o=0;n.chapters.empty();for(r=0;r<t.entries.times.length;r++){i=t.entries.times[r].stop-t.entries.times[r].start;s=Math.floor(i/n.media.duration*100);if(s+o>100||r==t.entries.times.length-1&&s+o<100){s=100-o}n.chapters.append(e('<div class="mejs-chapter" rel="'+t.entries.times[r].start+'" style="left: '+o.toString()+"%;width: "+s.toString()+'%;">'+'<div class="mejs-chapter-block'+(r==t.entries.times.length-1?" mejs-chapter-block-last":"")+'">'+'<span class="ch-title">'+t.entries.text[r]+"</span>"+'<span class="ch-time">'+mejs.Utility.secondsToTimeCode(t.entries.times[r].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(t.entries.times[r].stop)+"</span>"+"</div>"+"</div>"));o+=s}n.chapters.find("div.mejs-chapter").click(function(){n.media.setCurrentTime(parseFloat(e(this).attr("rel")));if(n.media.paused){n.media.play()}});n.chapters.show()}});mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",fl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}};mejs.TrackFormatParser={webvtt:{pattern_timecode:/^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(t){var n=0,r=mejs.TrackFormatParser.split2(t,/\r?\n/),i={text:[],times:[]},s,o,u;for(;n<r.length;n++){s=this.pattern_timecode.exec(r[n]);if(s&&n<r.length){if(n-1>=0&&r[n-1]!==""){u=r[n-1]}n++;o=r[n];n++;while(r[n]!==""&&n<r.length){o=o+"\n"+r[n];n++}o=e.trim(o).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,"<a href='$1' target='_blank'>$1</a>");i.text.push(o);i.times.push({identifier:u,start:mejs.Utility.convertSMPTEtoSeconds(s[1])===0?.2:mejs.Utility.convertSMPTEtoSeconds(s[1]),stop:mejs.Utility.convertSMPTEtoSeconds(s[3]),settings:s[5]})}u=""}return i}},dfxp:{parse:function(t){t=e(t).filter("tt");var n=0,r=t.children("div").eq(0),i=r.find("p"),s=t.find("#"+r.attr("style")),o,u,a,f,l={text:[],times:[]};if(s.length){var c=s.removeAttr("id").get(0).attributes;if(c.length){o={};for(n=0;n<c.length;n++){o[c[n].name.split(":")[1]]=c[n].value}}}for(n=0;n<i.length;n++){var h;var p={start:null,stop:null,style:null};if(i.eq(n).attr("begin"))p.start=mejs.Utility.convertSMPTEtoSeconds(i.eq(n).attr("begin"));if(!p.start&&i.eq(n-1).attr("end"))p.start=mejs.Utility.convertSMPTEtoSeconds(i.eq(n-1).attr("end"));if(i.eq(n).attr("end"))p.stop=mejs.Utility.convertSMPTEtoSeconds(i.eq(n).attr("end"));if(!p.stop&&i.eq(n+1).attr("begin"))p.stop=mejs.Utility.convertSMPTEtoSeconds(i.eq(n+1).attr("begin"));if(o){h="";for(var d in o){h+=d+":"+o[d]+";"}}if(h)p.style=h;if(p.start===0)p.start=.2;l.times.push(p);f=e.trim(i.eq(n).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,"<a href='$1' target='_blank'>$1</a>");l.text.push(f);if(l.times.start===0)l.times.start=2}return l}},split2:function(e,t){return e.split(t)}};if("x\n\ny".split(/\n/gi).length!=3){mejs.TrackFormatParser.split2=function(e,t){var n=[],r="",i;for(i=0;i<e.length;i++){r+=e.substring(i,i+1);if(t.test(r)){n.push(r.replace(t,""));r=""}}n.push(r);return n}}})(mejs.$);(function(e){e.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(e){if(typeof e.enterFullScreen=="undefined")return null;if(e.isFullScreen){return mejs.i18n.t("Turn off Fullscreen")}else{return mejs.i18n.t("Go Fullscreen")}},click:function(e){if(e.isFullScreen){e.exitFullScreen()}else{e.enterFullScreen()}}},{render:function(e){if(e.media.muted){return mejs.i18n.t("Unmute")}else{return mejs.i18n.t("Mute")}},click:function(e){if(e.media.muted){e.setMuted(false)}else{e.setMuted(true)}}},{isSeparator:true},{render:function(e){return mejs.i18n.t("Download Video")},click:function(e){window.location.href=e.media.currentSrc}}]});e.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(t,n,r,i){t.contextMenu=e('<div class="mejs-contextmenu"></div>').appendTo(e("body")).hide();t.container.bind("contextmenu",function(e){if(t.isContextMenuEnabled){e.preventDefault();t.renderContextMenu(e.clientX-1,e.clientY-1);return false}});t.container.bind("click",function(){t.contextMenu.hide()});t.contextMenu.bind("mouseleave",function(){t.startContextMenuTimer()})},cleancontextmenu:function(e){e.contextMenu.remove()},isContextMenuEnabled:true,enableContextMenu:function(){this.isContextMenuEnabled=true},disableContextMenu:function(){this.isContextMenuEnabled=false},contextMenuTimeout:null,startContextMenuTimer:function(){var e=this;e.killContextMenuTimer();e.contextMenuTimer=setTimeout(function(){e.hideContextMenu();e.killContextMenuTimer()},750)},killContextMenuTimer:function(){var e=this.contextMenuTimer;if(e!=null){clearTimeout(e);delete e;e=null}},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(t,n){var r=this,i="",s=r.options.contextMenuItems;for(var o=0,u=s.length;o<u;o++){if(s[o].isSeparator){i+='<div class="mejs-contextmenu-separator"></div>'}else{var a=s[o].render(r);if(a!=null){i+='<div class="mejs-contextmenu-item" data-itemindex="'+o+'" id="element-'+Math.random()*1e6+'">'+a+"</div>"}}}r.contextMenu.empty().append(e(i)).css({top:n,left:t}).show();r.contextMenu.find(".mejs-contextmenu-item").each(function(){var t=e(this),n=parseInt(t.data("itemindex"),10),i=r.options.contextMenuItems[n];if(typeof i.show!="undefined")i.show(t,r);t.click(function(){if(typeof i.click!="undefined")i.click(r);r.contextMenu.hide()})});setTimeout(function(){r.killControlsTimer("rev3")},100)}})})(mejs.$);(function(e){e.extend(mejs.MepDefaults,{postrollCloseText:mejs.i18n.t("Close")});e.extend(MediaElementPlayer.prototype,{buildpostroll:function(t,n,r,i){var s=this,o=s.container.find('link[rel="postroll"]').attr("href");if(typeof o!=="undefined"){t.postroll=e('<div class="mejs-postroll-layer mejs-layer"><a class="mejs-postroll-close" onclick="$(this).parent().hide();return false;">'+s.options.postrollCloseText+'</a><div class="mejs-postroll-layer-content"></div></div>').prependTo(r).hide();s.media.addEventListener("ended",function(n){e.ajax({dataType:"html",url:o,success:function(e,t){r.find(".mejs-postroll-layer-content").html(e)}});t.postroll.show()},false)}}})})(mejs.$)